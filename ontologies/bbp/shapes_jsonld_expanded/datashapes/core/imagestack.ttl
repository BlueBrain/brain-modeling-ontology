@prefix ns1: <http://www.w3.org/ns/shacl#> .
@prefix ns2: <https://bluebrain.github.io/nexus/vocabulary/> .
@prefix ns3: <http://www.w3.org/ns/prov#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<https://neuroshapes.org/dash/imagestack> a ns2:Schema ;
    owl:imports <https://neuroshapes.org/commons/entity> ;
    ns3:wasDerivedFrom "https://github.com/INCF/neuroshapes/blob/v0.3.15/modules/atlas/src/main/resources/schemas/neurosciencegraph/atlas/imagestack/v1.0.0.json" ;
    ns2:shapes <https://neuroshapes.org/dash/imagestack/shapes/ImageStackShape>,
        <https://neuroshapes.org/dash/imagestack/shapes/SliceResolutionShape> .

<https://neuroshapes.org/dash/imagestack/shapes/ImageStackShape> a ns1:NodeShape ;
    rdfs:label "Image stack"^^xsd:string ;
    ns1:and ( [ ns1:node <https://neuroshapes.org/commons/entity/shapes/EntityShape> ] [ ns1:property [ ns1:description "Anatomical direction within slices, from the left to the right of the slice." ;
                        ns1:in ( "anterior-posterior" "posterior-anterior" "inferior-superior" "superior-inferior" "left-right" "right-left" ) ;
                        ns1:maxCount 1 ;
                        ns1:minCount 1 ;
                        ns1:name "Width Anatomical Direction" ;
                        ns1:path <https://neuroshapes.org/widthAnatomicalDirection> ],
                    [ ns1:datatype xsd:integer ;
                        ns1:description "Width of the 2D slices, to be provided only if all the slices are the same width within the stack." ;
                        ns1:maxCount 1 ;
                        ns1:name "Fixed Slice width" ;
                        ns1:path <https://neuroshapes.org/fixedSliceWidth> ],
                    [ ns1:description "Resolution of the 2D slice" ;
                        ns1:maxCount 1 ;
                        ns1:name "Slice resolution" ;
                        ns1:node <https://neuroshapes.org/dash/imagestack/shapes/SliceResolutionShape> ;
                        ns1:path <https://neuroshapes.org/sliceResolution> ],
                    [ ns1:description "Anatomical direction within slices, from the top to the bottom of the slice." ;
                        ns1:in ( "anterior-posterior" "posterior-anterior" "inferior-superior" "superior-inferior" "left-right" "right-left" ) ;
                        ns1:maxCount 1 ;
                        ns1:minCount 1 ;
                        ns1:name "Height Anatomical Direction" ;
                        ns1:path <https://neuroshapes.org/heightAnatomicalDirection> ],
                    [ ns1:description "Slicing plane of the brain" ;
                        ns1:in ( "Sagittal" "Coronal" "Axial" ) ;
                        ns1:maxCount 1 ;
                        ns1:minCount 1 ;
                        ns1:name "Slicing plane" ;
                        ns1:path <https://neuroshapes.org/slicingPlane> ],
                    [ ns1:description "Interval at which individual slices in a stack of slices were sampled by the imaging method." ;
                        ns1:maxCount 1 ;
                        ns1:minCount 1 ;
                        ns1:name "Slice interval" ;
                        ns1:node <https://neuroshapes.org/commons/quantitativevalue/shapes/QuantitativeValueShape> ;
                        ns1:path <https://neuroshapes.org/sliceInterval> ],
                    [ ns1:datatype xsd:string ;
                        ns1:description "Modality of the image stack" ;
                        ns1:maxCount 1 ;
                        ns1:name "Image modality" ;
                        ns1:path <https://neuroshapes.org/imageModality> ],
                    [ ns1:datatype xsd:integer ;
                        ns1:description "Number of slices of the image stack" ;
                        ns1:maxCount 1 ;
                        ns1:minCount 1 ;
                        ns1:name "Number of slices" ;
                        ns1:path <https://neuroshapes.org/numberOfSlices> ],
                    [ ns1:description "Anatomical direction of the stack, from the begining to the end of the stack based on the order of the slice (by index or alphabetical)." ;
                        ns1:in ( "anterior-posterior" "posterior-anterior" "inferior-superior" "superior-inferior" "left-right" "right-left" ) ;
                        ns1:maxCount 1 ;
                        ns1:minCount 1 ;
                        ns1:name "Stack Anatomical Direction" ;
                        ns1:path <https://neuroshapes.org/stackAnatomicalDirection> ],
                    [ ns1:datatype xsd:integer ;
                        ns1:description "Height of the 2D slices, to be provided only if all the slices are the same width within the stack." ;
                        ns1:maxCount 1 ;
                        ns1:name "Fixed Slice height" ;
                        ns1:path <https://neuroshapes.org/fixedSliceHeight> ] ] ) ;
    ns1:nodeKind ns1:BlankNodeOrIRI ;
    ns1:targetClass <https://neuroshapes.org/ImageStack> .

<https://neuroshapes.org/dash/imagestack/shapes/SliceResolutionShape> a ns1:NodeShape ;
    ns1:property [ ns1:description "Slice height" ;
            ns1:maxCount 1 ;
            ns1:minCount 1 ;
            ns1:name "Height resolution" ;
            ns1:node <https://neuroshapes.org/commons/quantitativevalue/shapes/QuantitativeValueShape> ;
            ns1:path <https://neuroshapes.org/heightResolution> ],
        [ ns1:description "Slice resolution in width" ;
            ns1:maxCount 1 ;
            ns1:minCount 1 ;
            ns1:name "Width resolution" ;
            ns1:node <https://neuroshapes.org/commons/quantitativevalue/shapes/QuantitativeValueShape> ;
            ns1:path <https://neuroshapes.org/widthResolution> ] .

